apiVersion: v1alpha
kind: playwright-cucumberjs
sauce:
  region: us-west-1
  concurrency: 10
  metadata:
    tags:
      - e2e
    build: "$BUILD_ID"
defaults:
  timeout: 5m
playwright:
  version: 1.27.1
rootDir: ./
suites:
  - name: My Cucumber Test
    # saucectl passes browserName as an environment variable $BROWSER_NAME.
    # Launching the browser for Cucumber.js Playwright tests should be done on customer's side.
    # Hence saucectl cannot guarantee the displayed browser name is matched with the actual browser name.
    browserName: chromium
    options:
      paths:
        - "features/**/*.feature"
      require:
        - "features/support/*.js"
      format:
        - "json:my-cucumber.json"
npm:
  dependencies:
    # Following packages are required for running a playwright + cucumber test
    - "@cucumber/cucumber" # cucumber offcial suggested package
    - "@saucelabs/cucumber-reporter" # saucelabs report plugin. It's for generating test cases on web page
    - "typescript" # typescript support
    - "ts-node" # typescript support
    # You can append your npm dependencies
